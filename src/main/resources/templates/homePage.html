<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Login & Registration</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css">
  <link rel='stylesheet prefetch' href='https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.2.3/animate.min.css'>
  <link rel="stylesheet" th:href="@{/css/style.css}" href="../static/css/style.css">
</head>
<body>
<div class='container'>
  <div class='login-section'>
    <h2>Login</h2>
    <form th:action="@{/api/login}" method="post" id='login_form'>
      <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />

      <div class='field'>
        <label for='userName'>Username</label>
        <input type='text' id='userName' name='userName' maxlength="15" title='Username'>
        <span id='validaa' class='i i-warning'></span>
      </div>
      <div class='field'>
        <label for='password'>Password</label>
        <input type='password' id='password' name='password' maxlength="15" title='Password'>
        <span id='valida' class='i i-close'></span>
      </div>
      <div class='field'>
        <input type='submit' id='do_login' value='Login'>
      </div>
      <div class='field'>
        <label class='checkbox'>
          <input type='checkbox' value='TRUE' title='Keep me Signed in'> Keep me Signed in
        </label>
      </div>
    </form>
    <a href="#" title="Forgot Password?">Forgot Password?</a>
  </div>

  <div class='register-section'>
    <div th:if="${message}" class="registration-message" th:text="${message}"></div>
    <h2>Register</h2>
    <form th:action="@{/api/registration}" method="post" id='register_form'>
      <div class='field'>
        <label for='RegisterName'>Username</label>
        <input type='text' id="RegisterName" name='userName' maxlength="10" title='Username for registration' required onblur="checkUserNameAvailability()">
        <span id='userNameMessage'></span>
        <span id='userNameLengthWarning' style="color: red;"></span>
      </div>
      <div class='field'>
        <label for='email'>Email</label>
        <input type='email' id='email' name='email' maxlength="30" title='Email for registration' required onblur="checkEmailAvailability()">
        <span id='emailMessage'></span>
        <span id="userEmailLengthWarning" style="color: red;"></span>
      </div>
      <div class='field'>
        <label for='Regpassword'>Password</label>
        <input type='password' id='Regpassword' name='password' title='Password for registration' required>
      </div>
      <div class='field'>
        <input type='submit' value='Register'>
      </div>
    </form>
  </div>
</div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script th:src="@{/js/checkUserNameAvailability.js}" src="../static/js/checkUserNameAvailability.js"></script>
<script th:src="@{/js/checkEmailAvailability.js}" src="../static/js/checkEmailAvailability.js"></script>
<script src='http://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js'></script>
<script th:src="@{/js/index.js}" src="../static/js/index.js"></script>
</body>
</html>
